<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">

<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1"/>
  <meta name="generator" content="distill" />

  <style type="text/css">
  /* Hide doc at startup (prevent jankiness while JS renders/transforms) */
  body {
    visibility: hidden;
  }
  </style>

 <!--radix_placeholder_import_source-->
 <!--/radix_placeholder_import_source-->

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css" data-origin="pandoc">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ad0000; } /* Alert */
code span.an { color: #5e5e5e; } /* Annotation */
code span.at { color: #20794d; } /* Attribute */
code span.bn { color: #ad0000; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007ba5; } /* ControlFlow */
code span.ch { color: #20794d; } /* Char */
code span.cn { color: #8f5902; } /* Constant */
code span.co { color: #5e5e5e; } /* Comment */
code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
code span.dt { color: #ad0000; } /* DataType */
code span.dv { color: #ad0000; } /* DecVal */
code span.er { color: #ad0000; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #ad0000; } /* Float */
code span.fu { color: #4758ab; } /* Function */
code span.im { } /* Import */
code span.in { color: #5e5e5e; } /* Information */
code span.kw { color: #007ba5; } /* Keyword */
code span.op { color: #5e5e5e; } /* Operator */
code span.ot { color: #007ba5; } /* Other */
code span.pp { color: #ad0000; } /* Preprocessor */
code span.sc { color: #20794d; } /* SpecialChar */
code span.ss { color: #20794d; } /* SpecialString */
code span.st { color: #20794d; } /* String */
code span.va { color: #111111; } /* Variable */
code span.vs { color: #20794d; } /* VerbatimString */
code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
</style>

  <!--radix_placeholder_meta_tags-->
  <title>SMT201 G1T11 Project Website: Data Preparation</title>

  <meta property="description" itemprop="description" content="Data Preparation"/>


  <!--  https://schema.org/Article -->
  <meta property="article:published" itemprop="datePublished" content="2021-11-16"/>
  <meta property="article:created" itemprop="dateCreated" content="2021-11-16"/>

  <!--  https://developers.facebook.com/docs/sharing/webmasters#markup -->
  <meta property="og:title" content="SMT201 G1T11 Project Website: Data Preparation"/>
  <meta property="og:type" content="article"/>
  <meta property="og:description" content="Data Preparation"/>
  <meta property="og:locale" content="en_US"/>
  <meta property="og:site_name" content="SMT201 G1T11 Project Website"/>

  <!--  https://dev.twitter.com/cards/types/summary -->
  <meta property="twitter:card" content="summary"/>
  <meta property="twitter:title" content="SMT201 G1T11 Project Website: Data Preparation"/>
  <meta property="twitter:description" content="Data Preparation"/>

  <!--/radix_placeholder_meta_tags-->
  <!--radix_placeholder_rmarkdown_metadata-->

  <script type="text/json" id="radix-rmarkdown-metadata">
  {"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["title","description","date","output"]}},"value":[{"type":"character","attributes":{},"value":["Data Preparation"]},{"type":"character","attributes":{},"value":["Data Preparation\n"]},{"type":"character","attributes":{},"value":["2021-11-16"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["distill::distill_article"]}},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["toc","toc_depth"]}},"value":[{"type":"logical","attributes":{},"value":[true]},{"type":"integer","attributes":{},"value":[3]}]}]}]}
  </script>
  <!--/radix_placeholder_rmarkdown_metadata-->
  <!--radix_placeholder_navigation_in_header-->
  <meta name="distill:offset" content=""/>

  <script type="application/javascript">

    window.headroom_prevent_pin = false;

    window.document.addEventListener("DOMContentLoaded", function (event) {

      // initialize headroom for banner
      var header = $('header').get(0);
      var headerHeight = header.offsetHeight;
      var headroom = new Headroom(header, {
        tolerance: 5,
        onPin : function() {
          if (window.headroom_prevent_pin) {
            window.headroom_prevent_pin = false;
            headroom.unpin();
          }
        }
      });
      headroom.init();
      if(window.location.hash)
        headroom.unpin();
      $(header).addClass('headroom--transition');

      // offset scroll location for banner on hash change
      // (see: https://github.com/WickyNilliams/headroom.js/issues/38)
      window.addEventListener("hashchange", function(event) {
        window.scrollTo(0, window.pageYOffset - (headerHeight + 25));
      });

      // responsive menu
      $('.distill-site-header').each(function(i, val) {
        var topnav = $(this);
        var toggle = topnav.find('.nav-toggle');
        toggle.on('click', function() {
          topnav.toggleClass('responsive');
        });
      });

      // nav dropdowns
      $('.nav-dropbtn').click(function(e) {
        $(this).next('.nav-dropdown-content').toggleClass('nav-dropdown-active');
        $(this).parent().siblings('.nav-dropdown')
           .children('.nav-dropdown-content').removeClass('nav-dropdown-active');
      });
      $("body").click(function(e){
        $('.nav-dropdown-content').removeClass('nav-dropdown-active');
      });
      $(".nav-dropdown").click(function(e){
        e.stopPropagation();
      });
    });
  </script>

  <style type="text/css">

  /* Theme (user-documented overrideables for nav appearance) */

  .distill-site-nav {
    color: rgba(255, 255, 255, 0.8);
    background-color: #0F2E3D;
    font-size: 15px;
    font-weight: 300;
  }

  .distill-site-nav a {
    color: inherit;
    text-decoration: none;
  }

  .distill-site-nav a:hover {
    color: white;
  }

  @media print {
    .distill-site-nav {
      display: none;
    }
  }

  .distill-site-header {

  }

  .distill-site-footer {

  }


  /* Site Header */

  .distill-site-header {
    width: 100%;
    box-sizing: border-box;
    z-index: 3;
  }

  .distill-site-header .nav-left {
    display: inline-block;
    margin-left: 8px;
  }

  @media screen and (max-width: 768px) {
    .distill-site-header .nav-left {
      margin-left: 0;
    }
  }


  .distill-site-header .nav-right {
    float: right;
    margin-right: 8px;
  }

  .distill-site-header a,
  .distill-site-header .title {
    display: inline-block;
    text-align: center;
    padding: 14px 10px 14px 10px;
  }

  .distill-site-header .title {
    font-size: 18px;
    min-width: 150px;
  }

  .distill-site-header .logo {
    padding: 0;
  }

  .distill-site-header .logo img {
    display: none;
    max-height: 20px;
    width: auto;
    margin-bottom: -4px;
  }

  .distill-site-header .nav-image img {
    max-height: 18px;
    width: auto;
    display: inline-block;
    margin-bottom: -3px;
  }



  @media screen and (min-width: 1000px) {
    .distill-site-header .logo img {
      display: inline-block;
    }
    .distill-site-header .nav-left {
      margin-left: 20px;
    }
    .distill-site-header .nav-right {
      margin-right: 20px;
    }
    .distill-site-header .title {
      padding-left: 12px;
    }
  }


  .distill-site-header .nav-toggle {
    display: none;
  }

  .nav-dropdown {
    display: inline-block;
    position: relative;
  }

  .nav-dropdown .nav-dropbtn {
    border: none;
    outline: none;
    color: rgba(255, 255, 255, 0.8);
    padding: 16px 10px;
    background-color: transparent;
    font-family: inherit;
    font-size: inherit;
    font-weight: inherit;
    margin: 0;
    margin-top: 1px;
    z-index: 2;
  }

  .nav-dropdown-content {
    display: none;
    position: absolute;
    background-color: white;
    min-width: 200px;
    border: 1px solid rgba(0,0,0,0.15);
    border-radius: 4px;
    box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.1);
    z-index: 1;
    margin-top: 2px;
    white-space: nowrap;
    padding-top: 4px;
    padding-bottom: 4px;
  }

  .nav-dropdown-content hr {
    margin-top: 4px;
    margin-bottom: 4px;
    border: none;
    border-bottom: 1px solid rgba(0, 0, 0, 0.1);
  }

  .nav-dropdown-active {
    display: block;
  }

  .nav-dropdown-content a, .nav-dropdown-content .nav-dropdown-header {
    color: black;
    padding: 6px 24px;
    text-decoration: none;
    display: block;
    text-align: left;
  }

  .nav-dropdown-content .nav-dropdown-header {
    display: block;
    padding: 5px 24px;
    padding-bottom: 0;
    text-transform: uppercase;
    font-size: 14px;
    color: #999999;
    white-space: nowrap;
  }

  .nav-dropdown:hover .nav-dropbtn {
    color: white;
  }

  .nav-dropdown-content a:hover {
    background-color: #ddd;
    color: black;
  }

  .nav-right .nav-dropdown-content {
    margin-left: -45%;
    right: 0;
  }

  @media screen and (max-width: 768px) {
    .distill-site-header a, .distill-site-header .nav-dropdown  {display: none;}
    .distill-site-header a.nav-toggle {
      float: right;
      display: block;
    }
    .distill-site-header .title {
      margin-left: 0;
    }
    .distill-site-header .nav-right {
      margin-right: 0;
    }
    .distill-site-header {
      overflow: hidden;
    }
    .nav-right .nav-dropdown-content {
      margin-left: 0;
    }
  }


  @media screen and (max-width: 768px) {
    .distill-site-header.responsive {position: relative; min-height: 500px; }
    .distill-site-header.responsive a.nav-toggle {
      position: absolute;
      right: 0;
      top: 0;
    }
    .distill-site-header.responsive a,
    .distill-site-header.responsive .nav-dropdown {
      display: block;
      text-align: left;
    }
    .distill-site-header.responsive .nav-left,
    .distill-site-header.responsive .nav-right {
      width: 100%;
    }
    .distill-site-header.responsive .nav-dropdown {float: none;}
    .distill-site-header.responsive .nav-dropdown-content {position: relative;}
    .distill-site-header.responsive .nav-dropdown .nav-dropbtn {
      display: block;
      width: 100%;
      text-align: left;
    }
  }

  /* Site Footer */

  .distill-site-footer {
    width: 100%;
    overflow: hidden;
    box-sizing: border-box;
    z-index: 3;
    margin-top: 30px;
    padding-top: 30px;
    padding-bottom: 30px;
    text-align: center;
  }

  /* Headroom */

  d-title {
    padding-top: 6rem;
  }

  @media print {
    d-title {
      padding-top: 4rem;
    }
  }

  .headroom {
    z-index: 1000;
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
  }

  .headroom--transition {
    transition: all .4s ease-in-out;
  }

  .headroom--unpinned {
    top: -100px;
  }

  .headroom--pinned {
    top: 0;
  }

  /* adjust viewport for navbar height */
  /* helps vertically center bootstrap (non-distill) content */
  .min-vh-100 {
    min-height: calc(100vh - 100px) !important;
  }

  </style>

  <script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
  <link href="site_libs/font-awesome-5.1.0/css/all.css" rel="stylesheet"/>
  <link href="site_libs/font-awesome-5.1.0/css/v4-shims.css" rel="stylesheet"/>
  <script src="site_libs/headroom-0.9.4/headroom.min.js"></script>
  <script src="site_libs/autocomplete-0.37.1/autocomplete.min.js"></script>
  <script src="site_libs/fuse-6.4.1/fuse.min.js"></script>

  <script type="application/javascript">

  function getMeta(metaName) {
    var metas = document.getElementsByTagName('meta');
    for (let i = 0; i < metas.length; i++) {
      if (metas[i].getAttribute('name') === metaName) {
        return metas[i].getAttribute('content');
      }
    }
    return '';
  }

  function offsetURL(url) {
    var offset = getMeta('distill:offset');
    return offset ? offset + '/' + url : url;
  }

  function createFuseIndex() {

    // create fuse index
    var options = {
      keys: [
        { name: 'title', weight: 20 },
        { name: 'categories', weight: 15 },
        { name: 'description', weight: 10 },
        { name: 'contents', weight: 5 },
      ],
      ignoreLocation: true,
      threshold: 0
    };
    var fuse = new window.Fuse([], options);

    // fetch the main search.json
    return fetch(offsetURL('search.json'))
      .then(function(response) {
        if (response.status == 200) {
          return response.json().then(function(json) {
            // index main articles
            json.articles.forEach(function(article) {
              fuse.add(article);
            });
            // download collections and index their articles
            return Promise.all(json.collections.map(function(collection) {
              return fetch(offsetURL(collection)).then(function(response) {
                if (response.status === 200) {
                  return response.json().then(function(articles) {
                    articles.forEach(function(article) {
                      fuse.add(article);
                    });
                  })
                } else {
                  return Promise.reject(
                    new Error('Unexpected status from search index request: ' +
                              response.status)
                  );
                }
              });
            })).then(function() {
              return fuse;
            });
          });

        } else {
          return Promise.reject(
            new Error('Unexpected status from search index request: ' +
                        response.status)
          );
        }
      });
  }

  window.document.addEventListener("DOMContentLoaded", function (event) {

    // get search element (bail if we don't have one)
    var searchEl = window.document.getElementById('distill-search');
    if (!searchEl)
      return;

    createFuseIndex()
      .then(function(fuse) {

        // make search box visible
        searchEl.classList.remove('hidden');

        // initialize autocomplete
        var options = {
          autoselect: true,
          hint: false,
          minLength: 2,
        };
        window.autocomplete(searchEl, options, [{
          source: function(query, callback) {
            const searchOptions = {
              isCaseSensitive: false,
              shouldSort: true,
              minMatchCharLength: 2,
              limit: 10,
            };
            var results = fuse.search(query, searchOptions);
            callback(results
              .map(function(result) { return result.item; })
            );
          },
          templates: {
            suggestion: function(suggestion) {
              var img = suggestion.preview && Object.keys(suggestion.preview).length > 0
                ? `<img src="${offsetURL(suggestion.preview)}"</img>`
                : '';
              var html = `
                <div class="search-item">
                  <h3>${suggestion.title}</h3>
                  <div class="search-item-description">
                    ${suggestion.description || ''}
                  </div>
                  <div class="search-item-preview">
                    ${img}
                  </div>
                </div>
              `;
              return html;
            }
          }
        }]).on('autocomplete:selected', function(event, suggestion) {
          window.location.href = offsetURL(suggestion.path);
        });
        // remove inline display style on autocompleter (we want to
        // manage responsive display via css)
        $('.algolia-autocomplete').css("display", "");
      })
      .catch(function(error) {
        console.log(error);
      });

  });

  </script>

  <style type="text/css">

  .nav-search {
    font-size: x-small;
  }

  /* Algolioa Autocomplete */

  .algolia-autocomplete {
    display: inline-block;
    margin-left: 10px;
    vertical-align: sub;
    background-color: white;
    color: black;
    padding: 6px;
    padding-top: 8px;
    padding-bottom: 0;
    border-radius: 6px;
    border: 1px #0F2E3D solid;
    width: 180px;
  }


  @media screen and (max-width: 768px) {
    .distill-site-nav .algolia-autocomplete {
      display: none;
      visibility: hidden;
    }
    .distill-site-nav.responsive .algolia-autocomplete {
      display: inline-block;
      visibility: visible;
    }
    .distill-site-nav.responsive .algolia-autocomplete .aa-dropdown-menu {
      margin-left: 0;
      width: 400px;
      max-height: 400px;
    }
  }

  .algolia-autocomplete .aa-input, .algolia-autocomplete .aa-hint {
    width: 90%;
    outline: none;
    border: none;
  }

  .algolia-autocomplete .aa-hint {
    color: #999;
  }
  .algolia-autocomplete .aa-dropdown-menu {
    width: 550px;
    max-height: 70vh;
    overflow-x: visible;
    overflow-y: scroll;
    padding: 5px;
    margin-top: 3px;
    margin-left: -150px;
    background-color: #fff;
    border-radius: 5px;
    border: 1px solid #999;
    border-top: none;
  }

  .algolia-autocomplete .aa-dropdown-menu .aa-suggestion {
    cursor: pointer;
    padding: 5px 4px;
    border-bottom: 1px solid #eee;
  }

  .algolia-autocomplete .aa-dropdown-menu .aa-suggestion:last-of-type {
    border-bottom: none;
    margin-bottom: 2px;
  }

  .algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item {
    overflow: hidden;
    font-size: 0.8em;
    line-height: 1.4em;
  }

  .algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item h3 {
    font-size: 1rem;
    margin-block-start: 0;
    margin-block-end: 5px;
  }

  .algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item-description {
    display: inline-block;
    overflow: hidden;
    height: 2.8em;
    width: 80%;
    margin-right: 4%;
  }

  .algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item-preview {
    display: inline-block;
    width: 15%;
  }

  .algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item-preview img {
    height: 3em;
    width: auto;
    display: none;
  }

  .algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item-preview img[src] {
    display: initial;
  }

  .algolia-autocomplete .aa-dropdown-menu .aa-suggestion.aa-cursor {
    background-color: #eee;
  }
  .algolia-autocomplete .aa-dropdown-menu .aa-suggestion em {
    font-weight: bold;
    font-style: normal;
  }

  </style>


  <!--/radix_placeholder_navigation_in_header-->
  <!--radix_placeholder_distill-->

  <style type="text/css">

  body {
    background-color: white;
  }

  .pandoc-table {
    width: 100%;
  }

  .pandoc-table>caption {
    margin-bottom: 10px;
  }

  .pandoc-table th:not([align]) {
    text-align: left;
  }

  .pagedtable-footer {
    font-size: 15px;
  }

  d-byline .byline {
    grid-template-columns: 2fr 2fr;
  }

  d-byline .byline h3 {
    margin-block-start: 1.5em;
  }

  d-byline .byline .authors-affiliations h3 {
    margin-block-start: 0.5em;
  }

  .authors-affiliations .orcid-id {
    width: 16px;
    height:16px;
    margin-left: 4px;
    margin-right: 4px;
    vertical-align: middle;
    padding-bottom: 2px;
  }

  d-title .dt-tags {
    margin-top: 1em;
    grid-column: text;
  }

  .dt-tags .dt-tag {
    text-decoration: none;
    display: inline-block;
    color: rgba(0,0,0,0.6);
    padding: 0em 0.4em;
    margin-right: 0.5em;
    margin-bottom: 0.4em;
    font-size: 70%;
    border: 1px solid rgba(0,0,0,0.2);
    border-radius: 3px;
    text-transform: uppercase;
    font-weight: 500;
  }

  d-article table.gt_table td,
  d-article table.gt_table th {
    border-bottom: none;
  }

  .html-widget {
    margin-bottom: 2.0em;
  }

  .l-screen-inset {
    padding-right: 16px;
  }

  .l-screen .caption {
    margin-left: 10px;
  }

  .shaded {
    background: rgb(247, 247, 247);
    padding-top: 20px;
    padding-bottom: 20px;
    border-top: 1px solid rgba(0, 0, 0, 0.1);
    border-bottom: 1px solid rgba(0, 0, 0, 0.1);
  }

  .shaded .html-widget {
    margin-bottom: 0;
    border: 1px solid rgba(0, 0, 0, 0.1);
  }

  .shaded .shaded-content {
    background: white;
  }

  .text-output {
    margin-top: 0;
    line-height: 1.5em;
  }

  .hidden {
    display: none !important;
  }

  d-article {
    padding-top: 2.5rem;
    padding-bottom: 30px;
  }

  d-appendix {
    padding-top: 30px;
  }

  d-article>p>img {
    width: 100%;
  }

  d-article h2 {
    margin: 1rem 0 1.5rem 0;
  }

  d-article h3 {
    margin-top: 1.5rem;
  }

  d-article iframe {
    border: 1px solid rgba(0, 0, 0, 0.1);
    margin-bottom: 2.0em;
    width: 100%;
  }

  /* Tweak code blocks */

  d-article div.sourceCode code,
  d-article pre code {
    font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
  }

  d-article pre,
  d-article div.sourceCode,
  d-article div.sourceCode pre {
    overflow: auto;
  }

  d-article div.sourceCode {
    background-color: white;
  }

  d-article div.sourceCode pre {
    padding-left: 10px;
    font-size: 12px;
    border-left: 2px solid rgba(0,0,0,0.1);
  }

  d-article pre {
    font-size: 12px;
    color: black;
    background: none;
    margin-top: 0;
    text-align: left;
    white-space: pre;
    word-spacing: normal;
    word-break: normal;
    word-wrap: normal;
    line-height: 1.5;

    -moz-tab-size: 4;
    -o-tab-size: 4;
    tab-size: 4;

    -webkit-hyphens: none;
    -moz-hyphens: none;
    -ms-hyphens: none;
    hyphens: none;
  }

  d-article pre a {
    border-bottom: none;
  }

  d-article pre a:hover {
    border-bottom: none;
    text-decoration: underline;
  }

  d-article details {
    grid-column: text;
    margin-bottom: 0.8em;
  }

  @media(min-width: 768px) {

  d-article pre,
  d-article div.sourceCode,
  d-article div.sourceCode pre {
    overflow: visible !important;
  }

  d-article div.sourceCode pre {
    padding-left: 18px;
    font-size: 14px;
  }

  d-article pre {
    font-size: 14px;
  }

  }

  figure img.external {
    background: white;
    border: 1px solid rgba(0, 0, 0, 0.1);
    box-shadow: 0 1px 8px rgba(0, 0, 0, 0.1);
    padding: 18px;
    box-sizing: border-box;
  }

  /* CSS for d-contents */

  .d-contents {
    grid-column: text;
    color: rgba(0,0,0,0.8);
    font-size: 0.9em;
    padding-bottom: 1em;
    margin-bottom: 1em;
    padding-bottom: 0.5em;
    margin-bottom: 1em;
    padding-left: 0.25em;
    justify-self: start;
  }

  @media(min-width: 1000px) {
    .d-contents.d-contents-float {
      height: 0;
      grid-column-start: 1;
      grid-column-end: 4;
      justify-self: center;
      padding-right: 3em;
      padding-left: 2em;
    }
  }

  .d-contents nav h3 {
    font-size: 18px;
    margin-top: 0;
    margin-bottom: 1em;
  }

  .d-contents li {
    list-style-type: none
  }

  .d-contents nav > ul {
    padding-left: 0;
  }

  .d-contents ul {
    padding-left: 1em
  }

  .d-contents nav ul li {
    margin-top: 0.6em;
    margin-bottom: 0.2em;
  }

  .d-contents nav a {
    font-size: 13px;
    border-bottom: none;
    text-decoration: none
    color: rgba(0, 0, 0, 0.8);
  }

  .d-contents nav a:hover {
    text-decoration: underline solid rgba(0, 0, 0, 0.6)
  }

  .d-contents nav > ul > li > a {
    font-weight: 600;
  }

  .d-contents nav > ul > li > ul {
    font-weight: inherit;
  }

  .d-contents nav > ul > li > ul > li {
    margin-top: 0.2em;
  }


  .d-contents nav ul {
    margin-top: 0;
    margin-bottom: 0.25em;
  }

  .d-article-with-toc h2:nth-child(2) {
    margin-top: 0;
  }


  /* Figure */

  .figure {
    position: relative;
    margin-bottom: 2.5em;
    margin-top: 1.5em;
  }

  .figure img {
    width: 100%;
  }

  .figure .caption {
    color: rgba(0, 0, 0, 0.6);
    font-size: 12px;
    line-height: 1.5em;
  }

  .figure img.external {
    background: white;
    border: 1px solid rgba(0, 0, 0, 0.1);
    box-shadow: 0 1px 8px rgba(0, 0, 0, 0.1);
    padding: 18px;
    box-sizing: border-box;
  }

  .figure .caption a {
    color: rgba(0, 0, 0, 0.6);
  }

  .figure .caption b,
  .figure .caption strong, {
    font-weight: 600;
    color: rgba(0, 0, 0, 1.0);
  }

  /* Citations */

  d-article .citation {
    color: inherit;
    cursor: inherit;
  }

  div.hanging-indent{
    margin-left: 1em; text-indent: -1em;
  }

  /* Citation hover box */

  .tippy-box[data-theme~=light-border] {
    background-color: rgba(250, 250, 250, 0.95);
  }

  .tippy-content > p {
    margin-bottom: 0;
    padding: 2px;
  }


  /* Tweak 1000px media break to show more text */

  @media(min-width: 1000px) {
    .base-grid,
    distill-header,
    d-title,
    d-abstract,
    d-article,
    d-appendix,
    distill-appendix,
    d-byline,
    d-footnote-list,
    d-citation-list,
    distill-footer {
      grid-template-columns: [screen-start] 1fr [page-start kicker-start] 80px [middle-start] 50px [text-start kicker-end] 65px 65px 65px 65px 65px 65px 65px 65px [text-end gutter-start] 65px [middle-end] 65px [page-end gutter-end] 1fr [screen-end];
      grid-column-gap: 16px;
    }

    .grid {
      grid-column-gap: 16px;
    }

    d-article {
      font-size: 1.06rem;
      line-height: 1.7em;
    }
    figure .caption, .figure .caption, figure figcaption {
      font-size: 13px;
    }
  }

  @media(min-width: 1180px) {
    .base-grid,
    distill-header,
    d-title,
    d-abstract,
    d-article,
    d-appendix,
    distill-appendix,
    d-byline,
    d-footnote-list,
    d-citation-list,
    distill-footer {
      grid-template-columns: [screen-start] 1fr [page-start kicker-start] 60px [middle-start] 60px [text-start kicker-end] 60px 60px 60px 60px 60px 60px 60px 60px [text-end gutter-start] 60px [middle-end] 60px [page-end gutter-end] 1fr [screen-end];
      grid-column-gap: 32px;
    }

    .grid {
      grid-column-gap: 32px;
    }
  }


  /* Get the citation styles for the appendix (not auto-injected on render since
     we do our own rendering of the citation appendix) */

  d-appendix .citation-appendix,
  .d-appendix .citation-appendix {
    font-size: 11px;
    line-height: 15px;
    border-left: 1px solid rgba(0, 0, 0, 0.1);
    padding-left: 18px;
    border: 1px solid rgba(0,0,0,0.1);
    background: rgba(0, 0, 0, 0.02);
    padding: 10px 18px;
    border-radius: 3px;
    color: rgba(150, 150, 150, 1);
    overflow: hidden;
    margin-top: -12px;
    white-space: pre-wrap;
    word-wrap: break-word;
  }

  /* Include appendix styles here so they can be overridden */

  d-appendix {
    contain: layout style;
    font-size: 0.8em;
    line-height: 1.7em;
    margin-top: 60px;
    margin-bottom: 0;
    border-top: 1px solid rgba(0, 0, 0, 0.1);
    color: rgba(0,0,0,0.5);
    padding-top: 60px;
    padding-bottom: 48px;
  }

  d-appendix h3 {
    grid-column: page-start / text-start;
    font-size: 15px;
    font-weight: 500;
    margin-top: 1em;
    margin-bottom: 0;
    color: rgba(0,0,0,0.65);
  }

  d-appendix h3 + * {
    margin-top: 1em;
  }

  d-appendix ol {
    padding: 0 0 0 15px;
  }

  @media (min-width: 768px) {
    d-appendix ol {
      padding: 0 0 0 30px;
      margin-left: -30px;
    }
  }

  d-appendix li {
    margin-bottom: 1em;
  }

  d-appendix a {
    color: rgba(0, 0, 0, 0.6);
  }

  d-appendix > * {
    grid-column: text;
  }

  d-appendix > d-footnote-list,
  d-appendix > d-citation-list,
  d-appendix > distill-appendix {
    grid-column: screen;
  }

  /* Include footnote styles here so they can be overridden */

  d-footnote-list {
    contain: layout style;
  }

  d-footnote-list > * {
    grid-column: text;
  }

  d-footnote-list a.footnote-backlink {
    color: rgba(0,0,0,0.3);
    padding-left: 0.5em;
  }



  /* Anchor.js */

  .anchorjs-link {
    /*transition: all .25s linear; */
    text-decoration: none;
    border-bottom: none;
  }
  *:hover > .anchorjs-link {
    margin-left: -1.125em !important;
    text-decoration: none;
    border-bottom: none;
  }

  /* Social footer */

  .social_footer {
    margin-top: 30px;
    margin-bottom: 0;
    color: rgba(0,0,0,0.67);
  }

  .disqus-comments {
    margin-right: 30px;
  }

  .disqus-comment-count {
    border-bottom: 1px solid rgba(0, 0, 0, 0.4);
    cursor: pointer;
  }

  #disqus_thread {
    margin-top: 30px;
  }

  .article-sharing a {
    border-bottom: none;
    margin-right: 8px;
  }

  .article-sharing a:hover {
    border-bottom: none;
  }

  .sidebar-section.subscribe {
    font-size: 12px;
    line-height: 1.6em;
  }

  .subscribe p {
    margin-bottom: 0.5em;
  }


  .article-footer .subscribe {
    font-size: 15px;
    margin-top: 45px;
  }


  .sidebar-section.custom {
    font-size: 12px;
    line-height: 1.6em;
  }

  .custom p {
    margin-bottom: 0.5em;
  }

  /* Styles for listing layout (hide title) */
  .layout-listing d-title, .layout-listing .d-title {
    display: none;
  }

  /* Styles for posts lists (not auto-injected) */


  .posts-with-sidebar {
    padding-left: 45px;
    padding-right: 45px;
  }

  .posts-list .description h2,
  .posts-list .description p {
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
  }

  .posts-list .description h2 {
    font-weight: 700;
    border-bottom: none;
    padding-bottom: 0;
  }

  .posts-list h2.post-tag {
    border-bottom: 1px solid rgba(0, 0, 0, 0.2);
    padding-bottom: 12px;
  }
  .posts-list {
    margin-top: 60px;
    margin-bottom: 24px;
  }

  .posts-list .post-preview {
    text-decoration: none;
    overflow: hidden;
    display: block;
    border-bottom: 1px solid rgba(0, 0, 0, 0.1);
    padding: 24px 0;
  }

  .post-preview-last {
    border-bottom: none !important;
  }

  .posts-list .posts-list-caption {
    grid-column: screen;
    font-weight: 400;
  }

  .posts-list .post-preview h2 {
    margin: 0 0 6px 0;
    line-height: 1.2em;
    font-style: normal;
    font-size: 24px;
  }

  .posts-list .post-preview p {
    margin: 0 0 12px 0;
    line-height: 1.4em;
    font-size: 16px;
  }

  .posts-list .post-preview .thumbnail {
    box-sizing: border-box;
    margin-bottom: 24px;
    position: relative;
    max-width: 500px;
  }
  .posts-list .post-preview img {
    width: 100%;
    display: block;
  }

  .posts-list .metadata {
    font-size: 12px;
    line-height: 1.4em;
    margin-bottom: 18px;
  }

  .posts-list .metadata > * {
    display: inline-block;
  }

  .posts-list .metadata .publishedDate {
    margin-right: 2em;
  }

  .posts-list .metadata .dt-authors {
    display: block;
    margin-top: 0.3em;
    margin-right: 2em;
  }

  .posts-list .dt-tags {
    display: block;
    line-height: 1em;
  }

  .posts-list .dt-tags .dt-tag {
    display: inline-block;
    color: rgba(0,0,0,0.6);
    padding: 0.3em 0.4em;
    margin-right: 0.2em;
    margin-bottom: 0.4em;
    font-size: 60%;
    border: 1px solid rgba(0,0,0,0.2);
    border-radius: 3px;
    text-transform: uppercase;
    font-weight: 500;
  }

  .posts-list img {
    opacity: 1;
  }

  .posts-list img[data-src] {
    opacity: 0;
  }

  .posts-more {
    clear: both;
  }


  .posts-sidebar {
    font-size: 16px;
  }

  .posts-sidebar h3 {
    font-size: 16px;
    margin-top: 0;
    margin-bottom: 0.5em;
    font-weight: 400;
    text-transform: uppercase;
  }

  .sidebar-section {
    margin-bottom: 30px;
  }

  .categories ul {
    list-style-type: none;
    margin: 0;
    padding: 0;
  }

  .categories li {
    color: rgba(0, 0, 0, 0.8);
    margin-bottom: 0;
  }

  .categories li>a {
    border-bottom: none;
  }

  .categories li>a:hover {
    border-bottom: 1px solid rgba(0, 0, 0, 0.4);
  }

  .categories .active {
    font-weight: 600;
  }

  .categories .category-count {
    color: rgba(0, 0, 0, 0.4);
  }


  @media(min-width: 768px) {
    .posts-list .post-preview h2 {
      font-size: 26px;
    }
    .posts-list .post-preview .thumbnail {
      float: right;
      width: 30%;
      margin-bottom: 0;
    }
    .posts-list .post-preview .description {
      float: left;
      width: 45%;
    }
    .posts-list .post-preview .metadata {
      float: left;
      width: 20%;
      margin-top: 8px;
    }
    .posts-list .post-preview p {
      margin: 0 0 12px 0;
      line-height: 1.5em;
      font-size: 16px;
    }
    .posts-with-sidebar .posts-list {
      float: left;
      width: 75%;
    }
    .posts-with-sidebar .posts-sidebar {
      float: right;
      width: 20%;
      margin-top: 60px;
      padding-top: 24px;
      padding-bottom: 24px;
    }
  }


  /* Improve display for browsers without grid (IE/Edge <= 15) */

  .downlevel {
    line-height: 1.6em;
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
    margin: 0;
  }

  .downlevel .d-title {
    padding-top: 6rem;
    padding-bottom: 1.5rem;
  }

  .downlevel .d-title h1 {
    font-size: 50px;
    font-weight: 700;
    line-height: 1.1em;
    margin: 0 0 0.5rem;
  }

  .downlevel .d-title p {
    font-weight: 300;
    font-size: 1.2rem;
    line-height: 1.55em;
    margin-top: 0;
  }

  .downlevel .d-byline {
    padding-top: 0.8em;
    padding-bottom: 0.8em;
    font-size: 0.8rem;
    line-height: 1.8em;
  }

  .downlevel .section-separator {
    border: none;
    border-top: 1px solid rgba(0, 0, 0, 0.1);
  }

  .downlevel .d-article {
    font-size: 1.06rem;
    line-height: 1.7em;
    padding-top: 1rem;
    padding-bottom: 2rem;
  }


  .downlevel .d-appendix {
    padding-left: 0;
    padding-right: 0;
    max-width: none;
    font-size: 0.8em;
    line-height: 1.7em;
    margin-bottom: 0;
    color: rgba(0,0,0,0.5);
    padding-top: 40px;
    padding-bottom: 48px;
  }

  .downlevel .footnotes ol {
    padding-left: 13px;
  }

  .downlevel .base-grid,
  .downlevel .distill-header,
  .downlevel .d-title,
  .downlevel .d-abstract,
  .downlevel .d-article,
  .downlevel .d-appendix,
  .downlevel .distill-appendix,
  .downlevel .d-byline,
  .downlevel .d-footnote-list,
  .downlevel .d-citation-list,
  .downlevel .distill-footer,
  .downlevel .appendix-bottom,
  .downlevel .posts-container {
    padding-left: 40px;
    padding-right: 40px;
  }

  @media(min-width: 768px) {
    .downlevel .base-grid,
    .downlevel .distill-header,
    .downlevel .d-title,
    .downlevel .d-abstract,
    .downlevel .d-article,
    .downlevel .d-appendix,
    .downlevel .distill-appendix,
    .downlevel .d-byline,
    .downlevel .d-footnote-list,
    .downlevel .d-citation-list,
    .downlevel .distill-footer,
    .downlevel .appendix-bottom,
    .downlevel .posts-container {
    padding-left: 150px;
    padding-right: 150px;
    max-width: 900px;
  }
  }

  .downlevel pre code {
    display: block;
    border-left: 2px solid rgba(0, 0, 0, .1);
    padding: 0 0 0 20px;
    font-size: 14px;
  }

  .downlevel code, .downlevel pre {
    color: black;
    background: none;
    font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
    text-align: left;
    white-space: pre;
    word-spacing: normal;
    word-break: normal;
    word-wrap: normal;
    line-height: 1.5;

    -moz-tab-size: 4;
    -o-tab-size: 4;
    tab-size: 4;

    -webkit-hyphens: none;
    -moz-hyphens: none;
    -ms-hyphens: none;
    hyphens: none;
  }

  .downlevel .posts-list .post-preview {
    color: inherit;
  }



  </style>

  <script type="application/javascript">

  function is_downlevel_browser() {
    if (bowser.isUnsupportedBrowser({ msie: "12", msedge: "16"},
                                   window.navigator.userAgent)) {
      return true;
    } else {
      return window.load_distill_framework === undefined;
    }
  }

  // show body when load is complete
  function on_load_complete() {

    // add anchors
    if (window.anchors) {
      window.anchors.options.placement = 'left';
      window.anchors.add('d-article > h2, d-article > h3, d-article > h4, d-article > h5');
    }


    // set body to visible
    document.body.style.visibility = 'visible';

    // force redraw for leaflet widgets
    if (window.HTMLWidgets) {
      var maps = window.HTMLWidgets.findAll(".leaflet");
      $.each(maps, function(i, el) {
        var map = this.getMap();
        map.invalidateSize();
        map.eachLayer(function(layer) {
          if (layer instanceof L.TileLayer)
            layer.redraw();
        });
      });
    }

    // trigger 'shown' so htmlwidgets resize
    $('d-article').trigger('shown');
  }

  function init_distill() {

    init_common();

    // create front matter
    var front_matter = $('<d-front-matter></d-front-matter>');
    $('#distill-front-matter').wrap(front_matter);

    // create d-title
    $('.d-title').changeElementType('d-title');

    // create d-byline
    var byline = $('<d-byline></d-byline>');
    $('.d-byline').replaceWith(byline);

    // create d-article
    var article = $('<d-article></d-article>');
    $('.d-article').wrap(article).children().unwrap();

    // move posts container into article
    $('.posts-container').appendTo($('d-article'));

    // create d-appendix
    $('.d-appendix').changeElementType('d-appendix');

    // flag indicating that we have appendix items
    var appendix = $('.appendix-bottom').children('h3').length > 0;

    // replace footnotes with <d-footnote>
    $('.footnote-ref').each(function(i, val) {
      appendix = true;
      var href = $(this).attr('href');
      var id = href.replace('#', '');
      var fn = $('#' + id);
      var fn_p = $('#' + id + '>p');
      fn_p.find('.footnote-back').remove();
      var text = fn_p.html();
      var dtfn = $('<d-footnote></d-footnote>');
      dtfn.html(text);
      $(this).replaceWith(dtfn);
    });
    // remove footnotes
    $('.footnotes').remove();

    // move refs into #references-listing
    $('#references-listing').replaceWith($('#refs'));

    $('h1.appendix, h2.appendix').each(function(i, val) {
      $(this).changeElementType('h3');
    });
    $('h3.appendix').each(function(i, val) {
      var id = $(this).attr('id');
      $('.d-contents a[href="#' + id + '"]').parent().remove();
      appendix = true;
      $(this).nextUntil($('h1, h2, h3')).addBack().appendTo($('d-appendix'));
    });

    // show d-appendix if we have appendix content
    $("d-appendix").css('display', appendix ? 'grid' : 'none');

    // localize layout chunks to just output
    $('.layout-chunk').each(function(i, val) {

      // capture layout
      var layout = $(this).attr('data-layout');

      // apply layout to markdown level block elements
      var elements = $(this).children().not('details, div.sourceCode, pre, script');
      elements.each(function(i, el) {
        var layout_div = $('<div class="' + layout + '"></div>');
        if (layout_div.hasClass('shaded')) {
          var shaded_content = $('<div class="shaded-content"></div>');
          $(this).wrap(shaded_content);
          $(this).parent().wrap(layout_div);
        } else {
          $(this).wrap(layout_div);
        }
      });


      // unwrap the layout-chunk div
      $(this).children().unwrap();
    });

    // remove code block used to force  highlighting css
    $('.distill-force-highlighting-css').parent().remove();

    // remove empty line numbers inserted by pandoc when using a
    // custom syntax highlighting theme
    $('code.sourceCode a:empty').remove();

    // load distill framework
    load_distill_framework();

    // wait for window.distillRunlevel == 4 to do post processing
    function distill_post_process() {

      if (!window.distillRunlevel || window.distillRunlevel < 4)
        return;

      // hide author/affiliations entirely if we have no authors
      var front_matter = JSON.parse($("#distill-front-matter").html());
      var have_authors = front_matter.authors && front_matter.authors.length > 0;
      if (!have_authors)
        $('d-byline').addClass('hidden');

      // article with toc class
      $('.d-contents').parent().addClass('d-article-with-toc');

      // strip links that point to #
      $('.authors-affiliations').find('a[href="#"]').removeAttr('href');

      // add orcid ids
      $('.authors-affiliations').find('.author').each(function(i, el) {
        var orcid_id = front_matter.authors[i].orcidID;
        if (orcid_id) {
          var a = $('<a></a>');
          a.attr('href', 'https://orcid.org/' + orcid_id);
          var img = $('<img></img>');
          img.addClass('orcid-id');
          img.attr('alt', 'ORCID ID');
          img.attr('src','data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo1N0NEMjA4MDI1MjA2ODExOTk0QzkzNTEzRjZEQTg1NyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDozM0NDOEJGNEZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDozM0NDOEJGM0ZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IE1hY2ludG9zaCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkZDN0YxMTc0MDcyMDY4MTE5NUZFRDc5MUM2MUUwNEREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjU3Q0QyMDgwMjUyMDY4MTE5OTRDOTM1MTNGNkRBODU3Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+84NovQAAAR1JREFUeNpiZEADy85ZJgCpeCB2QJM6AMQLo4yOL0AWZETSqACk1gOxAQN+cAGIA4EGPQBxmJA0nwdpjjQ8xqArmczw5tMHXAaALDgP1QMxAGqzAAPxQACqh4ER6uf5MBlkm0X4EGayMfMw/Pr7Bd2gRBZogMFBrv01hisv5jLsv9nLAPIOMnjy8RDDyYctyAbFM2EJbRQw+aAWw/LzVgx7b+cwCHKqMhjJFCBLOzAR6+lXX84xnHjYyqAo5IUizkRCwIENQQckGSDGY4TVgAPEaraQr2a4/24bSuoExcJCfAEJihXkWDj3ZAKy9EJGaEo8T0QSxkjSwORsCAuDQCD+QILmD1A9kECEZgxDaEZhICIzGcIyEyOl2RkgwAAhkmC+eAm0TAAAAABJRU5ErkJggg==');
          a.append(img);
          $(this).append(a);
        }
      });

      // hide elements of author/affiliations grid that have no value
      function hide_byline_column(caption) {
        $('d-byline').find('h3:contains("' + caption + '")').parent().css('visibility', 'hidden');
      }

      // affiliations
      var have_affiliations = false;
      for (var i = 0; i<front_matter.authors.length; ++i) {
        var author = front_matter.authors[i];
        if (author.affiliation !== "&nbsp;") {
          have_affiliations = true;
          break;
        }
      }
      if (!have_affiliations)
        $('d-byline').find('h3:contains("Affiliations")').css('visibility', 'hidden');

      // published date
      if (!front_matter.publishedDate)
        hide_byline_column("Published");

      // document object identifier
      var doi = $('d-byline').find('h3:contains("DOI")');
      var doi_p = doi.next().empty();
      if (!front_matter.doi) {
        // if we have a citation and valid citationText then link to that
        if ($('#citation').length > 0 && front_matter.citationText) {
          doi.html('Citation');
          $('<a href="#citation"></a>')
            .text(front_matter.citationText)
            .appendTo(doi_p);
        } else {
          hide_byline_column("DOI");
        }
      } else {
        $('<a></a>')
           .attr('href', "https://doi.org/" + front_matter.doi)
           .html(front_matter.doi)
           .appendTo(doi_p);
      }

       // change plural form of authors/affiliations
      if (front_matter.authors.length === 1) {
        var grid = $('.authors-affiliations');
        grid.children('h3:contains("Authors")').text('Author');
        grid.children('h3:contains("Affiliations")').text('Affiliation');
      }

      // remove d-appendix and d-footnote-list local styles
      $('d-appendix > style:first-child').remove();
      $('d-footnote-list > style:first-child').remove();

      // move appendix-bottom entries to the bottom
      $('.appendix-bottom').appendTo('d-appendix').children().unwrap();
      $('.appendix-bottom').remove();

      // hoverable references
      $('span.citation[data-cites]').each(function() {
        var refHtml = $('#ref-' + $(this).attr('data-cites')).html();
        window.tippy(this, {
          allowHTML: true,
          content: refHtml,
          maxWidth: 500,
          interactive: true,
          interactiveBorder: 10,
          theme: 'light-border',
          placement: 'bottom-start'
        });
      });

      // clear polling timer
      clearInterval(tid);

      // show body now that everything is ready
      on_load_complete();
    }

    var tid = setInterval(distill_post_process, 50);
    distill_post_process();

  }

  function init_downlevel() {

    init_common();

     // insert hr after d-title
    $('.d-title').after($('<hr class="section-separator"/>'));

    // check if we have authors
    var front_matter = JSON.parse($("#distill-front-matter").html());
    var have_authors = front_matter.authors && front_matter.authors.length > 0;

    // manage byline/border
    if (!have_authors)
      $('.d-byline').remove();
    $('.d-byline').after($('<hr class="section-separator"/>'));
    $('.d-byline a').remove();

    // remove toc
    $('.d-contents').remove();

    // move appendix elements
    $('h1.appendix, h2.appendix').each(function(i, val) {
      $(this).changeElementType('h3');
    });
    $('h3.appendix').each(function(i, val) {
      $(this).nextUntil($('h1, h2, h3')).addBack().appendTo($('.d-appendix'));
    });


    // inject headers into references and footnotes
    var refs_header = $('<h3></h3>');
    refs_header.text('References');
    $('#refs').prepend(refs_header);

    var footnotes_header = $('<h3></h3');
    footnotes_header.text('Footnotes');
    $('.footnotes').children('hr').first().replaceWith(footnotes_header);

    // move appendix-bottom entries to the bottom
    $('.appendix-bottom').appendTo('.d-appendix').children().unwrap();
    $('.appendix-bottom').remove();

    // remove appendix if it's empty
    if ($('.d-appendix').children().length === 0)
      $('.d-appendix').remove();

    // prepend separator above appendix
    $('.d-appendix').before($('<hr class="section-separator" style="clear: both"/>'));

    // trim code
    $('pre>code').each(function(i, val) {
      $(this).html($.trim($(this).html()));
    });

    // move posts-container right before article
    $('.posts-container').insertBefore($('.d-article'));

    $('body').addClass('downlevel');

    on_load_complete();
  }


  function init_common() {

    // jquery plugin to change element types
    (function($) {
      $.fn.changeElementType = function(newType) {
        var attrs = {};

        $.each(this[0].attributes, function(idx, attr) {
          attrs[attr.nodeName] = attr.nodeValue;
        });

        this.replaceWith(function() {
          return $("<" + newType + "/>", attrs).append($(this).contents());
        });
      };
    })(jQuery);

    // prevent underline for linked images
    $('a > img').parent().css({'border-bottom' : 'none'});

    // mark non-body figures created by knitr chunks as 100% width
    $('.layout-chunk').each(function(i, val) {
      var figures = $(this).find('img, .html-widget');
      if ($(this).attr('data-layout') !== "l-body") {
        figures.css('width', '100%');
      } else {
        figures.css('max-width', '100%');
        figures.filter("[width]").each(function(i, val) {
          var fig = $(this);
          fig.css('width', fig.attr('width') + 'px');
        });

      }
    });

    // auto-append index.html to post-preview links in file: protocol
    // and in rstudio ide preview
    $('.post-preview').each(function(i, val) {
      if (window.location.protocol === "file:")
        $(this).attr('href', $(this).attr('href') + "index.html");
    });

    // get rid of index.html references in header
    if (window.location.protocol !== "file:") {
      $('.distill-site-header a[href]').each(function(i,val) {
        $(this).attr('href', $(this).attr('href').replace("index.html", "./"));
      });
    }

    // add class to pandoc style tables
    $('tr.header').parent('thead').parent('table').addClass('pandoc-table');
    $('.kable-table').children('table').addClass('pandoc-table');

    // add figcaption style to table captions
    $('caption').parent('table').addClass("figcaption");

    // initialize posts list
    if (window.init_posts_list)
      window.init_posts_list();

    // implmement disqus comment link
    $('.disqus-comment-count').click(function() {
      window.headroom_prevent_pin = true;
      $('#disqus_thread').toggleClass('hidden');
      if (!$('#disqus_thread').hasClass('hidden')) {
        var offset = $(this).offset();
        $(window).resize();
        $('html, body').animate({
          scrollTop: offset.top - 35
        });
      }
    });
  }

  document.addEventListener('DOMContentLoaded', function() {
    if (is_downlevel_browser())
      init_downlevel();
    else
      window.addEventListener('WebComponentsReady', init_distill);
  });

  </script>

  <!--/radix_placeholder_distill-->
  <script src="site_libs/header-attrs-2.10/header-attrs.js"></script>
  <script src="site_libs/popper-2.6.0/popper.min.js"></script>
  <link href="site_libs/tippy-6.2.7/tippy.css" rel="stylesheet" />
  <link href="site_libs/tippy-6.2.7/tippy-light-border.css" rel="stylesheet" />
  <script src="site_libs/tippy-6.2.7/tippy.umd.min.js"></script>
  <script src="site_libs/anchor-4.2.2/anchor.min.js"></script>
  <script src="site_libs/bowser-1.9.3/bowser.min.js"></script>
  <script src="site_libs/webcomponents-2.0.0/webcomponents.js"></script>
  <script src="site_libs/distill-2.2.21/template.v2.js"></script>
  <!--radix_placeholder_site_in_header-->
  <!--/radix_placeholder_site_in_header-->


</head>

<body>

<!--radix_placeholder_front_matter-->

<script id="distill-front-matter" type="text/json">
{"title":"Data Preparation","description":"Data Preparation","authors":[],"publishedDate":"2021-11-16T00:00:00.000+08:00"}
</script>

<!--/radix_placeholder_front_matter-->
<!--radix_placeholder_navigation_before_body-->
<header class="header header--fixed" role="banner">
<nav class="distill-site-nav distill-site-header">
<div class="nav-left">
<a href="index.html" class="title">SMT201 G1T11 Project Website</a>
<a href="proposal.html">Proposal</a>
<a href="data_preparation.html">Data Preparation</a>
<a href="report_of_survey.html">Report of Survey</a>
<a href="site_selection_report.html">Site Selection Report</a>
<a href="GIS-project-poster.html">Poster</a>
<input id="distill-search" class="nav-search hidden" type="text" placeholder="Search..."/>
</div>
<div class="nav-right">
<a href="index.html">Home</a>
<a href="about.html">About</a>
<a href="https://github.com/emocado/smt201" class="nav-image">
<img src="img/github.png"/>
</a>
<a href="javascript:void(0);" class="nav-toggle">&#9776;</a>
</div>
</nav>
</header>
<!--/radix_placeholder_navigation_before_body-->
<!--radix_placeholder_site_before_body-->
<!--/radix_placeholder_site_before_body-->

<div class="d-title">
<h1>Data Preparation</h1>
<!--radix_placeholder_categories-->
<!--/radix_placeholder_categories-->
<p><p>Data Preparation</p></p>
</div>


<div class="d-article">
<div class="d-contents d-contents-float">
<nav class="l-text toc figcaption" id="TOC">
<h3>Contents</h3>
<ul>
<li><a href="#data-prepartaion">Data Prepartaion</a></li>
<li><a href="#extracting-and-preparing-layer">1.0 Extracting and preparing layer</a>
<ul>
<li><a href="#study-area">1.1 Study Area</a></li>
<li><a href="#road-layer">1.2 Road layer</a></li>
<li><a href="#building-layer">1.3 Building layer</a></li>
<li><a href="#transport-layer">1.4 Transport layer</a></li>
<li><a href="#hotspot-layer">1.5 Hotspot layer</a></li>
<li><a href="#healthcare-layer">1.6 Healthcare layer</a></li>
<li><a href="#forest-layer">1.7 Forest layer</a></li>
<li><a href="#agriculture-layer">1.8 Agriculture layer</a></li>
<li><a href="#waterway-and-water-body-layers">1.9 Waterway and Water Body layers</a></li>
</ul></li>
<li><a href="#accessibility">2.0 Accessibility</a>
<ul>
<li><a href="#accessibility-to-roads">2.1 Accessibility to Roads</a>
<ul>
<li><a href="#creating-attribute-field-for-rasterizing">2.1.1 Creating attribute field for rasterizing</a></li>
<li><a href="#rasterizing-roads-layer">2.1.2 Rasterizing roads layer</a></li>
<li><a href="#working-with-proximity-function-of-qgis">2.1.3 Working with Proximity function of QGIS</a></li>
<li><a href="#deriving-road-accessibility-factor-preference-layer">2.1.4 Deriving road accessibility factor preference layer</a></li>
</ul></li>
<li><a href="#health">2.2 Health</a>
<ul>
<li><a href="#deriving-health-risk-factor-preference-layer">2.2.1 Deriving health risk factor preference layer</a></li>
</ul></li>
<li><a href="#hotspot">2.3 Hotspot</a></li>
<li><a href="#education">2.4 Education</a></li>
<li><a href="#slope">2.5 Slope</a>
<ul>
<li><a href="#deriving-slope-layer">2.5.1 Deriving slope layer</a></li>
<li><a href="#slope-ranking">2.5.2 Slope ranking</a></li>
<li><a href="#hillshade">2.5.3 Hillshade</a></li>
<li><a href="#qgis2threejs">2.5.4 qgis2threejs</a></li>
</ul></li>
<li><a href="#healthcare">2.6 Healthcare</a></li>
<li><a href="#forest-fire-hotspots">2.7 Forest Fire Hotspots</a></li>
<li><a href="#forest">2.8 Forest</a></li>
<li><a href="#water-body">2.8 Water Body</a></li>
</ul></li>
<li><a href="#choropleth-maps">3.0 Choropleth Maps</a>
<ul>
<li><a href="#working-population">3.1 Working Population</a></li>
<li><a href="#religion">3.2 Religion</a></li>
<li><a href="#muslim">3.2.1 Muslim</a>
<ul>
<li><a href="#christian">3.2.2 Christian</a></li>
</ul></li>
<li><a href="#gender">3.3 Gender</a></li>
<li><a href="#settlements-heatmap">3.4 Settlements Heatmap</a></li>
<li><a href="#forest-fire-hotspot-heatmap">3.5 Forest Fire Hotspot Heatmap</a></li>
<li><a href="#education-choropleth-map">3.6 Education Choropleth Map</a></li>
</ul></li>
<li><a href="#site-suitability">4.0 Site Suitability</a>
<ul>
<li><a href="#prepare-a-composite-accessibility-layer">4. 1 Prepare a composite accessibility layer</a></li>
<li><a href="#identify-suitable-sites">4.2 Identify suitable sites</a></li>
<li><a href="#vectorise-suitable-sites">4.3 Vectorise suitable sites</a></li>
</ul></li>
</ul>
</nav>
</div>
<h1 id="data-prepartaion">Data Prepartaion</h1>
<h1 id="extracting-and-preparing-layer">1.0 Extracting and preparing layer</h1>
<h2 id="study-area">1.1 Study Area</h2>
<p>Bring in BATAS_DESA_DESEMBER_2019_DUKCAPIL_KALIMANTAN_TIMUR.shp into QGIS.</p>
<ul>
<li>From the Attributes toolbar, select Attributes Table</li>
<li>Click Select features using an expression</li>
<li>Enter the following code</li>
</ul>
<p>“KAB_KOTA” in ( ‘KOTA BALIKPAPAN’ , ‘KOTA SAMARINDA’ ) or “KECAMATAN” in ( ‘ANGGANA’ , ‘BABULU’ , ‘LOA JANAN’ , ‘LOA KULU’ , ‘MARANG KAYU’ , ‘MUARA JAWA’ , ‘PENAJAM’ , ‘SAMBOJA’ , ‘SANGA SANGA’ , ‘SEBULU’ , ‘SEPAKU’ , ‘TENGGARONG’ , ‘TENGGARONG SEBERANG’ , ‘WARU’ , ‘MUARA BADAK’ )</p>
<ul>
<li>Click on Select Features</li>
<li>Click on Close</li>
<li>Right click on the population layer in the Layers toolbar</li>
<li>Select Export -&gt; Save selected features as</li>
<li>Set the Format to GeoPackage from the drop down</li>
<li>Set the layer name to study_area</li>
<li>Set the CRS to EPSG:23845</li>
<li>Click Ok</li>
</ul>
<h2 id="road-layer">1.2 Road layer</h2>
<p>Bring in gis_osm_roads_free_1.shp into QGIS</p>
<ul>
<li>From the menu bar, select Vector -&gt; Research tools -&gt; Select by Location.</li>
<li>For Select feature from select gis_osm_roads_free_1.shp from the drop down list.</li>
<li>For Where the features (geometric predicate), check intersect check box.</li>
<li>For By comparing to the features from, select study_area from the drop down list.</li>
<li>Click the Advanced options beside study_area and choose Do not Filter (Better Performance) for Invalid features filtering</li>
</ul>
<div class="layout-chunk" data-layout="l-body">
<p><img src="img/images/image35.png" width="418" /></p>
</div>
<div class="layout-chunk" data-layout="l-body">
<p><img src="img/images/image15.png" width="364" /></p>
</div>
<div class="layout-chunk" data-layout="l-body">
<p><img src="img/images/image25.png" width="370" /></p>
</div>
<div class="layout-chunk" data-layout="l-body">
<p><img src="img/images/image6.png" width="956" /></p>
</div>
<p>Save the selected features into a geopackage and name it roads.</p>
<h2 id="building-layer">1.3 Building layer</h2>
<p>Using the steps in 1.1.1, select gis_osm_buildings_a_free_1.shp to study_area and save it into a geopackage as building</p>
<h2 id="transport-layer">1.4 Transport layer</h2>
<p>Bring gis_osm_traffic_a_free_1.shp and gis_osm_transport_a_free_1.shp into QGIS</p>
<ul>
<li>From the menu bar, select Vector -&gt; Data Management Tools -&gt; Merge Vector Layers.</li>
<li>For Input layers select gis_osm_traffic_a_free_1.shp and gis_osm_transport_a_free_1.shp.</li>
<li>For Destination CRS, select EPSG:23845 - DGN95 / Indonesia TM-3 zone 54.1. Click Run</li>
</ul>
<div class="layout-chunk" data-layout="l-body">
<p><img src="img/images/image28.png" width="364" /></p>
</div>
<ul>
<li>Open attribute table of merged</li>
<li>From the menu bar, click select by expression</li>
<li>Key in the expression as shown below</li>
</ul>
<div class="layout-chunk" data-layout="l-body">
<p><img src="img/images/image22.png" width="172" /></p>
</div>
<ul>
<li>Click select features</li>
<li>Save selected features into a geopackage and name it transport</li>
</ul>
<p>Using the steps in 1.1.1, select transport layer into study_area layer and save it into a geopackage as transport, overwriting the transport layer</p>
<ul>
<li>From the menu bar, select Vector -&gt; Geometry Tools -&gt; Centroids.</li>
<li>For Input layers select transport from the drop down list.</li>
<li>Leave the rest of the fields as default</li>
<li>Click Run</li>
<li>Save the temporary Centroids into a geopackage and name it transport_centroid</li>
</ul>
<p>From the menu bar, select Select features by freehand and manually select transport_centroid features that are within the study area.</p>
<div class="layout-chunk" data-layout="l-body">
<p><img src="img/images/image54.png" width="597" /></p>
</div>
<ul>
<li>Open attribute table of transport_centroid</li>
<li>From the menu bar, Toggle editing mode and select Invert selection</li>
<li>Delete selected features</li>
</ul>
<div class="layout-chunk" data-layout="l-body">
<p><img src="img/images/image30.png" width="956" /></p>
</div>
<h2 id="hotspot-layer">1.5 Hotspot layer</h2>
<p>Open Titik Api Hotspot se-Indonesia Tahun [Year] into QGIS, where [Year] is 2014 - 2020.</p>
<p>Select the hospots that fall within the study area. - From the plugins toolbar, click Select by location - For Input, select Titik Api Hotspot se-indonesia Tahun [Year] - Intersect should be selected - For By comparing to the features from, select study_area. Under advanced options , select Do not Filter (Better Performance) - Click Run</p>
<p>Relevant hotspots will be selected. - Select Export -&gt; Save selected features as - Set the Format to GeoPackage from the drop down - Set the layer name to kalimantan - Set the CRS to EPSG:23845 - For 2014, 2015 &amp; 2017, select Points for Geometry type and untick Include z-dimension - Click Ok - Save the selected points into a geopackage and name it kalimantan_[Year]</p>
<p>Repeat this process for all the year.</p>
<ul>
<li>From the Menu Toolbar, select Vector -&gt; Data Management Tools -&gt; Merge Vector Layer</li>
<li>For Input, select all 6 hotspot layers</li>
<li>For Destination CRS, select EPSG: 23845</li>
<li>Click Run</li>
<li>Click Close</li>
</ul>
<p>A temporary Merged layer should be added to your map. - Select Export -&gt; Save features as - Set the Format to GeoPackage from the drop down - Set the layer name to kalimantan - Set the CRS to EPSG:23845 - Under Select fields, deselect fid - Click Run</p>
<h2 id="healthcare-layer">1.6 Healthcare layer</h2>
<ul>
<li>Import healthcare facilities dataset to QGIS</li>
<li>From the Menu Toolbar, go to Vector -&gt; Geoprocessing tools -&gt; Clip</li>
<li>Set the Input Layer as healthcare facilities dataset</li>
<li>Set the Overlay layer as population. Select advanced options for Input layer. Select Do Not Filter</li>
<li>Click OK</li>
<li>Save the temporary Clipped layer as healthcare</li>
</ul>
<h2 id="forest-layer">1.7 Forest layer</h2>
<ul>
<li>Open Tuplah_Kalimantan_Timur_2019.shp</li>
</ul>
<p>Select the area that falls within the study area. - From the plugins toolbar, click Select by location - For Input, select Tuplah_Kalimantan_Timur_2019 - Intersect should be selected - For By comparing to the features from, select study_area. Under advanced options , select Do not Filter (Better Performance) - Click Run</p>
<p>Select the relevant polygons that are related to forest. - From the plugins toolbar, click Select by expression - Type the following expression in the expression box: - “Legenda” in ( ‘Hutan Lahan Kering Primer’ , ‘Hutan Lahan Kering Sekunder’ , ‘Hutan Mangrove Primer’ , ‘Hutan Mangrove Sekunder’ , ‘Hutan Rawa Primer’ , ‘Hutan Rawa Sekunder’ , ‘Hutan Tanaman’) - Click Run - Select Export -&gt; Save selected features as Save the layer in the geopackage as forest</p>
<h2 id="agriculture-layer">1.8 Agriculture layer</h2>
<ul>
<li>Open Tuplah_Kalimantan_Timur_2019.shp</li>
</ul>
<p>Select the area that falls within the study area. - From the plugins toolbar, click Select by location - For Input, select Tuplah_Kalimantan_Timur_2019 - Intersect should be selected - For By comparing to the features from, select study_area. Under advanced options , select Do not Filter (Better Performance) - Click Run</p>
<p>Select the relevant polygons that are related to agriculture. - From the plugins toolbar, click Select by expression - Type the following expression in the expression box: - “Legenda” in ( ‘Pertanian Lahan Kering’ , ‘Pertanian Lahan Kering Campur’ , ‘Sawah’ , ‘Perkebunan’ ) - Click Run - Select Export -&gt; Save selected features as - Save the layer in the geopackage as agriculture</p>
<h2 id="waterway-and-water-body-layers">1.9 Waterway and Water Body layers</h2>
<ul>
<li>Open gis_osm_water_a_free_1.shp</li>
</ul>
<p>Select the area that falls within the study area. - From the plugins toolbar, click Select by location - For Input, select gis_osm_water_a_free_1.shp - Intersect should be selected - For By comparing to the features from, select study_area. Under advanced options , select Do not Filter (Better Performance) - Click Run - Select Export -&gt; Save selected features as - Save the layer in the geopackage as waterway</p>
<ul>
<li>Open gis_osm_waterways_free_1.shp</li>
</ul>
<p>Select the area that falls within the study area. - From the plugins toolbar, click Select by location - For Input, select gis_osm_waterways_free_1.shp - Intersect should be selected - For By comparing to the features from, select study_area. Under advanced options , select Do not Filter (Better Performance) - Click Run - Select Export -&gt; Save selected features as - Save the layer in the geopackage as waterbody</p>
<h1 id="accessibility">2.0 Accessibility</h1>
<h2 id="accessibility-to-roads">2.1 Accessibility to Roads</h2>
<p>Accessibility factor: &lt;=100m = 5, 100-200m = 4, 200-300m = 3, 300-500m = 2, &gt;500m = 1 from roads.</p>
<h3 id="creating-attribute-field-for-rasterizing">2.1.1 Creating attribute field for rasterizing</h3>
<p>Before we can rasterize the roads layer, we need to add a control attribute field in the roads layer. - At the Layers panel, click on the Roads layer to make it active. - From the icon bar, click on the Open Attribute Table icon .</p>
<p>The attribute table of the roads layer appears.</p>
<ul>
<li>From the menu bar of the roads layer attribute table, click on the Open field calculator icon.</li>
</ul>
<p>The Field Calculator dialog window appears.</p>
<ul>
<li>Keep Create a new field option checks.</li>
<li>For Output field name, type POI_CODE.</li>
<li>At the Expression pane, type 1.</li>
</ul>
<p>Your screen should look similar to the figure below.</p>
<div class="layout-chunk" data-layout="l-body">
<p><img src="img/images/image100.png" width="467" /></p>
</div>
<ul>
<li>Click on the OK button to run the function.</li>
</ul>
<p>Notice that a new field called POI_CODE has been added into the attribute table of roads GIS layer. Also note that all the records are indicated with POI_CODE values equals to 1.</p>
<div class="layout-chunk" data-layout="l-body">
<p><img src="img/images/image8.png" width="582" /></p>
</div>
<p>You are now ready to rasterize the roads layer. Save the editing before moving on.</p>
<h3 id="rasterizing-roads-layer">2.1.2 Rasterizing roads layer</h3>
<ul>
<li>From the menu bar, select Raster -&gt; Conversion -&gt; Rasterize (Vector to Raster).</li>
</ul>
<p>The Raster (Vector to Raster) dialog window appears.</p>
<ul>
<li>For the Input layer, select Roads from the drop-down list.</li>
<li>For Field to use for a burn-in value, select POI_CODE from the drop-down list.</li>
<li>For Output raster size units, select Georeferenced units.</li>
<li>Keep both horizontal and vertical resolutions at 5 (meaning 5m by 5m resolution).</li>
<li>For Output extent, click on Calculate from Layer.</li>
<li>Select study_area from the drop-down list.</li>
</ul>
<p>When you are ready, - Click on the Run button.</p>
<p>When the operation ends, the dialog window will display the operation log. - Read the output display to ensure that the process has completed without any error.</p>
<p>After confirming that there is no error. You can close the dialog window. - Click on the Close button.</p>
<p>Notice that a temporary layer called Rasterized has been added in the QGIS project.</p>
<div class="layout-chunk" data-layout="l-body">
<p><img src="img/images/image33.png" width="339" /></p>
</div>
<p>Save the temporary layer into GeoPackage format. Call the newly exported layer raster_roads. Next, remove the temporary layer from QGIS.</p>
<h3 id="working-with-proximity-function-of-qgis">2.1.3 Working with Proximity function of QGIS</h3>
<p>Now, the Proximity operation of QGIS will be used to compute the proximity to roads layer.</p>
<ul>
<li>For the menu bar, select Raster -&gt; Analysis -&gt; Proximity (Raster Distance).</li>
</ul>
<p>The Proximity (Raster Distance) dialog window appears.</p>
<ul>
<li>For Input layer, select raster_roads from the drop-down list.</li>
<li>For Distance units, select Georeferenced coordinates from the drop-down list.</li>
<li>For Output data type, select Float32 from the drop-down list.Your screen should look similar to the screenshot below.</li>
</ul>
<div class="layout-chunk" data-layout="l-body">
<p><img src="img/images/image101.png" width="336" /></p>
</div>
<ul>
<li>Click Run Your screen should look similar to the figure below.</li>
</ul>
<div class="layout-chunk" data-layout="l-body">
<p><img src="img/images/image40.png" width="304" /></p>
</div>
<p>A temporary layer called Proximity map is created and added in the QGIS project. The legend of Proximity map layer indicates that the furthest distance from the roads is 86038 metres.</p>
<p>save the newly computed proximity map into GeoPackage format with a resolution of 5m x 5m. Call the layer prox_roads. Next, remove the Proximity map layer from QGIS.</p>
<h3 id="deriving-road-accessibility-factor-preference-layer">2.1.4 Deriving road accessibility factor preference layer</h3>
<ul>
<li>From the Processing Toolbox, search for Reclassify by Table, double-click on it.</li>
</ul>
<div class="layout-chunk" data-layout="l-body">
<p><img src="img/images/image102.png" width="502" /></p>
</div>
<p>The dialog window of Reclassify by Table appears. - For Raster Layer, select slope from the drop-down list. - For the Reclassification table, click on the icon.</p>
<p>The dialog window of the Fixed table appears. - Enter the value similar to the screenshot below.</p>
<div class="layout-chunk" data-layout="l-body">
<p><img src="img/images/image53.png" width="360" /></p>
</div>
<p>Reminder: Click on Add Row button when you want to add a new row. - Click on the OK button when you have completed the entry.</p>
<p>You will go back to the dialog window of Reclassify by Table. - For Range boundaries, select the option similar to the screenshot below.</p>
<div class="layout-chunk" data-layout="l-body">
<p><img src="img/images/image103.png" width="564" /></p>
</div>
<ul>
<li>For Output data type, select Float32 from the drop-down list.</li>
<li>Lastly, click on the Run button to run the process.</li>
</ul>
<p>Note: Pay attention to the Using classes section of the report log. This is the actual reclassification scheme defined using Fixed table and Range boundaries functions of Reclassify by Table of QGIS.</p>
<div class="layout-chunk" data-layout="l-body">
<p><img src="img/images/image1.png" width="362" /></p>
</div>
<p>When you are done with reviewing the report log, click on the Close button to close the dialog window of Reclassify by Table.</p>
<p>Notice that a new temporary raster layer will be added on the view window of QGIS as shown in the screenshot below.</p>
<div class="layout-chunk" data-layout="l-body">
<p><img src="img/images/image58.png" width="620" /></p>
</div>
<p>Using the steps you had learned in the earlier section, save the temporary raster layer into Geopackage format. Name the data layer as rank_roads. Then, remove the temporary raster layer from QGIS.</p>
<ul>
<li>On the rank_roads layer click properties -&gt; Symbology</li>
<li>For Render type select Palatted/Unique values from the drop down</li>
<li>For Color ramp select blues and invert Colour ramp.</li>
<li>Click Classify</li>
<li>Change the label according to the screenshot below</li>
</ul>
<div class="layout-chunk" data-layout="l-body">
<p><img src="img/images/image56.png" width="498" /></p>
</div>
<ul>
<li>Click Apply and then OK</li>
</ul>
<div class="layout-chunk" data-layout="l-body">
<p><img src="img/images/image13.png" width="736" /></p>
</div>
<h2 id="health">2.2 Health</h2>
<h3 id="deriving-health-risk-factor-preference-layer">2.2.1 Deriving health risk factor preference layer</h3>
<p>Using the steps in 2.1, Create a layer for health risk factor. - Health risk factor: - &lt;=100m = 1, - 100-200m = 2, - 200-300m = 3, - 300-500m = 4, - &gt;500m = 5 away from population i.e. housing areas and offices.</p>
<div class="layout-chunk" data-layout="l-body">
<p><img src="img/images/image17.png" width="368" /></p>
</div>
<div class="layout-chunk" data-layout="l-body">
<p><img src="img/images/image9.png" width="358" /></p>
</div>
<div class="layout-chunk" data-layout="l-body">
<p><img src="img/images/image44.png" width="368" /></p>
</div>
<div class="layout-chunk" data-layout="l-body">
<p><img src="img/images/image37.png" width="304" /></p>
</div>
<div class="layout-chunk" data-layout="l-body">
<p><img src="img/images/image20.png" width="738" /></p>
</div>
<h2 id="hotspot">2.3 Hotspot</h2>
<ul>
<li>Load the Hotspot shp files from the browser (Titik Api Hotspot se-Indonesia Tahun [Year]).</li>
<li>Select the hospots that fall within the study area. This can be done through the Select by location tool. In the Select by location window:
<ul>
<li>Select Titik Api Hotspot se-indonesia Tahun [Year] layer for the Select features from input.</li>
<li>Intersect should be ticked.</li>
<li>Select kalimantan_study_area as the input for By comparing to the features from.</li>
<li>Under advanced options for By comparing the features from, select Do not Filter (Better Performance).</li>
<li>Click Run.</li>
</ul></li>
<li>Export the selected points to kalimantan gpkg. Change CRS to EPSG: 23845 – DGN95 / Indonesia TM-3 zone 54.1. For 2014, 2015 &amp; 2017, select Points for Geometry type and untick Include z-dimension.</li>
<li>Merge all the hotspot layers by using the Merge Vector Layer tool (Vector &gt; Data Management Tools &gt; Merge Vector Layer). Select all 6 hotspot layers as the input and select EPSG: 23845 – DGN95 / Indonesia TM-3 zone 54.1 as the Destination CRS. Export the temporary merge layer to kalimantan gpkg. Change CRS to EPSG: 23845 – DGN95 / Indonesia TM-3 zone 54.1. Untick fid under Select fields to export and their export options as a new unique fid would be generated which may overlap with the existing fid.</li>
<li>From the Processing Toolbox, select Heatmap. In the Heatmap window</li>
</ul>
<div class="layout-chunk" data-layout="l-body">
<p><img src="img/images/image61.png" width="274" /></p>
</div>
<ul>
<li>Select hospot_merged as the point layer.</li>
<li>Key in 10000 meters for Radius</li>
<li>Run the window.</li>
</ul>
<p>The heat map should look like this</p>
<div class="layout-chunk" data-layout="l-body">
<p><img src="img/images/image5.png" width="176" /></p>
</div>
<h2 id="education">2.4 Education</h2>
<ul>
<li>Load PEDIDIKAN_PT_50k.shp KOTA_BALIKPAPAN RBI, KOTASAMARINDA RBI, KUTAIKARTANEGARA RBI and PENAJAMPASERUTARA RBI into QGIS</li>
<li>Merge the 4 layers together using the Merge Vector Layers tool [Vector &gt; Data Management Tools &gt; Merge Vector Layer]. In the Merge Vector Layers window:
<ul>
<li>Select the 4 Pedidikan layers as the Input layers.</li>
<li>Select EPSG: 23845 – DGN95 / Indonesia TM-3 zone 54.1 as the Destination CRS.</li>
<li>Run the window.</li>
</ul></li>
<li>Delete duplicate points for the merged layers. Search for Delete Duplicate Geometries on the Geoprocessing Toolbox and open the tool. In the Delete Duplicate Geometries window:
<ul>
<li>Select Merged as the Input layer/</li>
<li>Run the window.</li>
<li>Export the Cleaned output layer into the geopackage as school. Change CRS to EPSG: 23845 – DGN95 / Indonesia TM-3 zone 54.1.</li>
</ul></li>
<li>Count the number of schools in each Desa. This can be done using the Count points in polygon tool [Vector &gt; Analysis &gt; Count points in polygon]. In the Count points in polygon window:
<ul>
<li>Select the study area layer as the Polygon.</li>
<li>Select school for Points.</li>
<li>Under advanced options , select Do not Filter (Better Performance).</li>
<li>Run the window.</li>
<li>Export the Count output layer into the geopackage as school_count. Change CRS to EPSG: 23845 – DGN95 / Indonesia TM-3 zone 54.1.</li>
</ul></li>
<li>Create a choropleth map using the school_count layer. Double click on the school_count layer to open the Layer Properties window. Select Symbology. In the Symbology window:
<ul>
<li>Change from Single Symbol to Graduated.</li>
<li>Select NUMPOINTS as the value.</li>
<li>Select Natural Breaks (Jenks) for Mode.</li>
<li>Click on Classify.</li>
<li>Click on Apply and Ok.</li>
</ul></li>
</ul>
<p>The choropleth map should look like this:</p>
<div class="layout-chunk" data-layout="l-body">
<p><img src="img/images/image57.png" width="320" /></p>
</div>
<h2 id="slope">2.5 Slope</h2>
<h3 id="deriving-slope-layer">2.5.1 Deriving slope layer</h3>
<p>We will compute a slope layer from the DEM layer by using the Slope operation of QGIS.</p>
<p>Bring in DEM SRTM 30M KALIMANTAN TIMUR layer into qgis.</p>
<ul>
<li>From the menu bar, select Raster -&gt; Extraction -&gt; Clip raster by extent.</li>
<li>For Input layer, select DEM SRTM 30M KALIMANTAN TIMUR from the drop-down list.</li>
<li>For Clipping extent, select study_area</li>
<li>Keep the rest as default and click on the Run button.</li>
</ul>
<div class="layout-chunk" data-layout="l-body">
<p><img src="img/images/image23.png" width="938" /></p>
</div>
<p>Save the temporary Clipped (extent) into geopackage as elevation_30m - From the menu bar, select Raster -&gt; Analysis -&gt; Slope.</p>
<p>Slope dialog window appears. - For Input layer, select elevation_30m from the drop-down list.</p>
<p>Keep the rest of the setting as default. - Click on the Run button.</p>
<p>When the computation is completed, a temporary layer called Slope will be added in the QGIS project.</p>
<div class="layout-chunk" data-layout="l-body">
<p><img src="img/images/image10.png" width="938" /></p>
</div>
<p>The legend of the Slope layer shows that the minimum and maximum values of the slope values are 0 and 70.3093 degrees respectively. The grids with darker grey indicate locations with relatively gentle slopes. On the other hand, the light grey grids indicate locations with steeper slope.</p>
<ul>
<li>Click on Close button to close Slope function dialog window.</li>
</ul>
<h3 id="slope-ranking">2.5.2 Slope ranking</h3>
<ul>
<li>Using steps from 2.1.4, derive slope preference data layer by scoring it with ordinal scales of choices 5-scale.</li>
<li>Economic factor:
<ul>
<li>&lt;= 5degree slope = 5,</li>
<li>5degree - 10degree = 4,</li>
<li>10degree -20degree = 3,</li>
<li>20degree -30degree = 2,</li>
<li><blockquote>
<p>30degree = 1</p>
</blockquote></li>
</ul></li>
</ul>
<div class="layout-chunk" data-layout="l-body">
<p><img src="img/images/image38.png" width="647" /></p>
</div>
<h3 id="hillshade">2.5.3 Hillshade</h3>
<ul>
<li>From the menu bar, navigate to Processing -&gt; Toolbox. Search for Hillshade and double click the Hillshade under raster terrain analysis</li>
<li>For elevation model, select elevation_30m from the dropdown list.</li>
<li>Keep the rest of the settings as default.</li>
<li>Click on the run button.</li>
</ul>
<div class="layout-chunk" data-layout="l-body">
<p><img src="img/images/image62.png" width="936" /></p>
</div>
<p>Save the temporary Hillshade layer into geopackage as Hillshade.</p>
<h3 id="qgis2threejs">2.5.4 qgis2threejs</h3>
<ul>
<li>Open the properties of the Slope layer and navigate to Symbology.</li>
<li>For Render type, select Singleband pseudocolor from the dropdown list</li>
<li>For Color ramp, select Greens from the dropdown list</li>
<li>Click Classify -&gt; apply -&gt; Ok</li>
</ul>
<div class="layout-chunk" data-layout="l-body">
<p><img src="img/images/image42.png" width="564" /></p>
</div>
<p>Ensure that Slope layer is above hillshade in the layers window</p>
<div class="layout-chunk" data-layout="l-body">
<p><img src="img/images/image19.png" width="263" /></p>
</div>
<p>From the menu bar, select plugins -&gt; manage and install plugins. Search for Qgis2threejs and double click the Install Plugin. Select Qgis2threejs Exporter from the menu bar.</p>
<div class="layout-chunk" data-layout="l-body">
<p><img src="img/images/image45.png" width="108" /></p>
</div>
<ul>
<li>Select elevation_30m from the layers panel in Qgis2threejs window.</li>
<li>From the menu bar, select Scene -&gt; Scene settings</li>
<li>Change vertical exaggeration to 25</li>
<li>Click on Apply and then OK</li>
</ul>
<div class="layout-chunk" data-layout="l-body">
<p><img src="img/images/image43.png" width="949" /></p>
</div>
<h2 id="healthcare">2.6 Healthcare</h2>
<ul>
<li>Click on healthcare in the layers menu to highlight the layer</li>
<li>From the toolbar, select Open field calculator</li>
<li>Set Output field name as POI_CODE</li>
<li>Set the expression as 1</li>
</ul>
<p>It should look similar to this:</p>
<div class="layout-chunk" data-layout="l-body">
<p><img src="img/images/image7.png" width="232" /></p>
</div>
<ul>
<li>Click Ok</li>
<li>Close the attributes table</li>
<li>Right click on healthcare in the layers menu</li>
<li>Click toggle editing to turn off editing mode</li>
<li>Click Save</li>
<li>From the menu bar, select Raster -&gt; Conversion -&gt; Rasterise (Vector to Raster)</li>
</ul>
<div class="layout-chunk" data-layout="l-body">
<p><img src="img/images/image50.png" width="960" /></p>
</div>
<ul>
<li>Set Input layer as healthcare</li>
<li>Set Field to use for a burn-in value as POI_CODE</li>
<li>Set Output raster size units as Georeferenced units</li>
<li>Set Width and Height as 5 metres</li>
<li>Set Output extent as population</li>
</ul>
<div class="layout-chunk" data-layout="l-body">
<p><img src="img/images/image18.png" width="960" /></p>
</div>
<ul>
<li>Click Run</li>
<li>Click Close</li>
<li>Right click on the temporary Rasterized layer and select Export -&gt; Save as</li>
<li>Set Format as GeoPackage</li>
<li>Set File name to IN.gpkg</li>
<li>Set layer name to raster_healthcare</li>
<li>Set CRS to EPSG:23845</li>
<li>Click Ok</li>
<li>For the menu bar, select Raster -&gt; Analysis -&gt; Proximity (Raster Distance)</li>
<li>Set Input layer as ras_healthcare</li>
<li>Set Distance units as Georeferenced coordinates</li>
</ul>
<div class="layout-chunk" data-layout="l-body">
<p><img src="img/images/image48.png" width="412" /></p>
</div>
<ul>
<li>Click Run</li>
<li>Click Close</li>
<li>Right click on the temporary Proximity layer and select Export -&gt; Save as</li>
<li>Set Format as GeoPackage</li>
<li>Set File name to IN.gpkg</li>
<li>Set layer name to prox_healthcare</li>
<li>Set CRS to EPSG:23845</li>
</ul>
<h2 id="forest-fire-hotspots">2.7 Forest Fire Hotspots</h2>
<ul>
<li>Click on hotspot_merged in the layers menu to highlight the layer</li>
<li>From the toolbar, select Open field calculator</li>
<li>Set Output field name as POI_CODE</li>
<li>Set the expression as 1</li>
</ul>
<p>It should look similar to this:</p>
<div class="layout-chunk" data-layout="l-body">
<p><img src="img/images/image7.png" width="232" /></p>
</div>
<ul>
<li>Click Ok</li>
<li>Close the attributes table</li>
<li>Right click on healthcare in the layers menu</li>
<li>Click toggle editing to turn off editing mode</li>
<li>Click Save</li>
<li>From the menu bar, select Raster -&gt; Conversion -&gt; Rasterise (Vector to Raster)</li>
<li>Set Input layer as hotspot_merged</li>
<li>Set Field to use for a burn-in value as POI_CODE</li>
<li>Set Output raster size units as Georeferenced units</li>
<li>Set Width and Height as 5 metres</li>
<li>Set Output extent as population</li>
<li>Click Run</li>
<li>Click Close</li>
<li>Right click on the temporary Rasterized layer and select Export -&gt; Save as</li>
<li>Set Format as GeoPackage</li>
<li>Set File name to IN.gpkg</li>
<li>Set layer name to ras_hotspot</li>
<li>Set CRS to EPSG:23845</li>
<li>Click Ok</li>
<li>For the menu bar, select Raster -&gt; Analysis -&gt; Proximity (Raster Distance)</li>
<li>Set Input layer as ras_healthcare</li>
<li>Set Distance units as Georeferenced coordinates</li>
<li>Click Run</li>
<li>Click Close</li>
<li>Right click on the temporary Proximity layer and select Export -&gt; Save as</li>
<li>Set Format as GeoPackage</li>
<li>Set File name to IN.gpkg</li>
<li>Set layer name to prox_hotspot</li>
<li>Set CRS to EPSG:23845</li>
</ul>
<h2 id="forest">2.8 Forest</h2>
<ul>
<li>Click on forest in the layers menu to highlight the layer</li>
<li>From the toolbar, select Open field calculator</li>
<li>Set Output field name as POI_CODE</li>
<li>Set the expression as 1</li>
</ul>
<p>It should look similar to this:</p>
<div class="layout-chunk" data-layout="l-body">
<p><img src="img/images/image7.png" width="232" /></p>
</div>
<ul>
<li>Click Ok</li>
<li>Close the attributes table</li>
<li>Right click on forest in the layers menu</li>
<li>Click toggle editing to turn off editing mode</li>
<li>Click Save</li>
<li>From the menu bar, select Raster -&gt; Conversion -&gt; Rasterise (Vector to Raster)</li>
<li>Set Input layer as forest</li>
<li>Set Field to use for a burn-in value as POI_CODE</li>
<li>Set Output raster size units as Georeferenced units</li>
<li>Set Width and Height as 5 metres</li>
<li>Set Output extent as population</li>
<li>Click Run</li>
<li>Click Close</li>
<li>Right click on the temporary Rasterized layer and select Export -&gt; Save as</li>
<li>Set Format as GeoPackage</li>
<li>Set File name to IN.gpkg</li>
<li>Set layer name to ras_forest</li>
<li>Set CRS to EPSG:23845</li>
<li>Click Ok</li>
<li>For the menu bar, select Raster -&gt; Analysis -&gt; Proximity (Raster Distance)</li>
<li>Set Input layer as ras_forest</li>
<li>Set Distance units as Georeferenced coordinates</li>
<li>Click Run</li>
<li>Click Close</li>
<li>Right click on the temporary Proximity layer and select Export -&gt; Save as</li>
<li>Set Format as GeoPackage</li>
<li>Set File name to IN.gpkg</li>
<li>Set layer name to prox_forest</li>
<li>Set CRS to EPSG:23845</li>
</ul>
<h2 id="water-body">2.8 Water Body</h2>
<ul>
<li>Click on waterbody in the layers menu to highlight the layer</li>
<li>From the toolbar, select Open field calculator</li>
<li>Set Output field name as POI_CODE</li>
<li>Set the expression as 1</li>
<li>It should look similar to this:</li>
</ul>
<div class="layout-chunk" data-layout="l-body">
<p><img src="img/images/image7.png" width="232" /></p>
</div>
<ul>
<li>Click Ok</li>
<li>Close the attributes table</li>
<li>Right click on forest in the layers menu</li>
<li>Click toggle editing to turn off editing mode</li>
<li>Click Save</li>
<li>From the menu bar, select Raster -&gt; Conversion -&gt; Rasterise (Vector to Raster)</li>
<li>Set Input layer as waterbody</li>
<li>Set Field to use for a burn-in value as POI_CODE</li>
<li>Set Output raster size units as Georeferenced units</li>
<li>Set Width and Height as 5 metres</li>
<li>Set Output extent as population</li>
<li>Click Run</li>
<li>Click Close</li>
<li>Right click on the temporary Rasterized layer and select Export -&gt; Save as</li>
<li>Set Format as GeoPackage</li>
<li>Set File name to IN.gpkg</li>
<li>Set layer name to ras_waterbody</li>
<li>Set CRS to EPSG:23845</li>
<li>Click Ok</li>
<li>For the menu bar, select Raster -&gt; Analysis -&gt; Proximity (Raster Distance)</li>
<li>Set Input layer as ras_waterbody</li>
<li>Set Distance units as Georeferenced coordinates</li>
<li>Click Run</li>
<li>Click Close</li>
<li>Right click on the temporary Proximity layer and select Export -&gt; Save as</li>
<li>Set Format as GeoPackage</li>
<li>Set File name to IN.gpkg</li>
<li>Set layer name to prox_waterbody</li>
<li>Set CRS to EPSG:23845</li>
</ul>
<h1 id="choropleth-maps">3.0 Choropleth Maps</h1>
<h2 id="working-population">3.1 Working Population</h2>
<p>Before drawing the map, we have to create a new column for the working population.</p>
<ul>
<li>Right click study_area in layers menu</li>
<li>From the Attributes Toolbar, select Open Field Calculator</li>
<li>Set Output field name as working age</li>
<li>Write the expression as follows:</li>
</ul>
<div class="layout-chunk" data-layout="l-body">
<p><img src="img/images/image26.png" width="226" /></p>
</div>
<ul>
<li>Click Ok</li>
<li>Close the field calculator by clicking the cross button on the top right corner</li>
<li>Click toggle editing to turn off editing mode</li>
<li>Click Save</li>
</ul>
<p>A new column, working age, is added to the attribute table. Now that we have the necessary columns, we can draw the choropleth map.</p>
<ul>
<li>Right click on study_area</li>
<li>Click Properties</li>
<li>Click Symbology from the left</li>
<li>Select Graduated from the drop down</li>
<li>For Value, select working age from the drop down</li>
<li>Set Color Ramp as Blues</li>
<li>Set mode as Natural Breaks (Jenks). This is to ensure that the values in each bin do not vary too much.</li>
</ul>
<div class="layout-chunk" data-layout="l-body">
<p><img src="img/images/image21.png" width="359" /></p>
</div>
<ul>
<li>Click on Classify</li>
<li>Click on Apply</li>
<li>Click on OK</li>
</ul>
<h2 id="religion">3.2 Religion</h2>
<h2 id="muslim">3.2.1 Muslim</h2>
<p>Using the steps from 3.1, draw a choropleth map. There is no need to open the field calculator as the necessary columns are already present. - For Value, select the expression buttopm, , next to the drop down box - Type “SILAM”/“JUMLAH_PEN” into the expression panel - Click Ok</p>
<h3 id="christian">3.2.2 Christian</h3>
<p>Using the steps from 3.2.1, draw a choropleth map using “KRISTEN” /“JUMLAH_PEN” as the Value</p>
<h2 id="gender">3.3 Gender</h2>
<p>Using the steps from 3.2.1, draw a choropleth map using “PRIA” /“JUMLAH_PEN” as the Value</p>
<h2 id="settlements-heatmap">3.4 Settlements Heatmap</h2>
<ul>
<li>Bring in gis_osm_places_free_1.shp into qgis.</li>
<li>From the menu bar, click vector -&gt; research tools -&gt; Select by location</li>
<li>For Input, select gis_osm_places_free_1.shp</li>
<li>Intersect should be selected</li>
<li>For By comparing the features from, select study_area. Under advanced options , select Do not Filter (Better Performance)</li>
<li>Click Run</li>
<li>Save the temporary layer into geopackage as settlements</li>
<li>From the menu bar, navigate to Processing -&gt; Toolbox. Search for heatmap and double click the Heatmap (Kernel Density Estimation) under Interpolation.</li>
<li>For Input Point layer, select settlements from the drop-down list.</li>
<li>For Radius, change to 20000.</li>
<li>For Pixel size X and Pixel size Y, change to 50.</li>
<li>Keep the rest of the settings as default.</li>
<li>Click on the Run button.</li>
</ul>
<div class="layout-chunk" data-layout="l-body">
<p><img src="img/images/image14.png" width="320" /></p>
</div>
<div class="layout-chunk" data-layout="l-body">
<p><img src="img/images/image60.png" width="938" /></p>
</div>
<p>Save the temporary Heatmap layer into geopackage as settlements_heatmap.</p>
<h2 id="forest-fire-hotspot-heatmap">3.5 Forest Fire Hotspot Heatmap</h2>
<ul>
<li>Select the hotspot_merged layer</li>
<li>From the menu bar, navigate to Processing -&gt; Toolbox. Search for heatmap and double click the Heatmap (Kernel Density Estimation) under Interpolation.</li>
<li>For Input Point layer, select settlements from the drop-down list.</li>
<li>For Radius, change to 20000.</li>
<li>For Pixel size X and Pixel size Y, change to 50.</li>
<li>Keep the rest of the settings as default.</li>
<li>Click on the Run button.</li>
<li>Save the temporary Heatmap layer into geopackage as hotspot_heatmap.</li>
</ul>
<h2 id="education-choropleth-map">3.6 Education Choropleth Map</h2>
<ul>
<li>From the menu bar, navigate to Vector -&gt; Analysis Tool -&gt; Count Points in Polygon.</li>
<li>For Input Polygon layer, select study_area.</li>
<li>For Input Points layer, select schools</li>
<li>Run the window.</li>
<li>A temporary layer Count would be created. Saved the temporary layer into geopackage as school_count.</li>
<li>Right click on school_count</li>
<li>Click Properties</li>
<li>Click Symbology from the left</li>
<li>Select Graduated from the drop down</li>
<li>For Value, select NUMPOINTS from the drop down</li>
<li>Set Color Ramp as Blues</li>
<li>Set mode as Natural Breaks (Jenks). This is to ensure that the values in each bin do not vary too much.</li>
<li>Click on Classify</li>
<li>Click on Apply</li>
<li>Click on OK</li>
</ul>
<h1 id="site-suitability">4.0 Site Suitability</h1>
<p>Download the AHP Template. Open the Excel template and perform AHP analysis. This is our AHP score that we come up with.</p>
<div class="layout-chunk" data-layout="l-body">
<p><img src="img/images/image201.png" width="628" /></p>
</div>
<p>This is our AHP score.</p>
<div class="layout-chunk" data-layout="l-body">
<p><img src="img/images/image202.png" width="302" /></p>
</div>
<p>From the above results, health risk factor poses the most critical factor and economic factor being the least weighted factor in determining the suitable site. The consistency check of 4% is below 10% and the inconsistency is acceptable.</p>
<h2 id="prepare-a-composite-accessibility-layer">4. 1 Prepare a composite accessibility layer</h2>
<ul>
<li>From the menu bar, navigate to Processing -&gt; Toolbox. Search for raster calculator and double click the raster calculator under raster analysis</li>
<li>Copy and paste the code below into the Expression box.</li>
</ul>
<p>(1-(“Slope@1”/70.30928))*0.033+(1-(“prox_transport@1”-562.249939)/(100132.03125-562.249939))*0.053+(“prox_hotspot@1”/88631.007812)*0.166+(“forest_prox@1”/86003.609375)*0.23+(1-(“raster_road_prox@1”/86038.75))*0.086+(“waterbody_prox@1”/87802.921875)*0.432</p>
<p>Noticed that we used 1 - z-score of slope, transport and road as we want higher z-score to represent better site suitability.</p>
<ul>
<li>For referenced layer use prox_building.</li>
<li>Click run.</li>
<li>Save the composite layer into geopackage as composite_layer</li>
</ul>
<h2 id="identify-suitable-sites">4.2 Identify suitable sites</h2>
<p>We now need to identify a suitable area based on the composite accessibility layer that we have obtained. The scale of the composite accessibility layer ranges from 0.155585 to 0.690181. After investigating the various values to determine the best value to identify the composite factor score, we have decided on 0.3 to better pinpoint the ideal location.</p>
<p>In order to derive the site suitability layer, the reclassifying operation of raster GIS will be used. In QGIS, raster reclassifying can be performed by using the Reclassify by Table function.</p>
<ul>
<li>From the Processing Toolbox, search for Reclassify by Table, double-click on it.</li>
</ul>
<div class="layout-chunk" data-layout="l-body">
<p><img src="img/images/image104.png" width="506" /></p>
</div>
<p>The dialog window of Reclassify by Table appears. - For Raster Layer, select composite_layer from the drop-down list. - For the Reclassification table, click on the icon.</p>
<p>The dialog window of the Fixed table appears. - Enter the value similar to the screenshot below.</p>
<div class="layout-chunk" data-layout="l-body">
<p><img src="img/images/image31.png" width="492" /></p>
</div>
<ul>
<li>Click on Add Row button when you want to add a new row.</li>
<li>Click on OK button when you have completed the entry.</li>
<li>For Range boundaries, select min &lt;= value &lt; max.</li>
<li>For Output data type, select Float32 from the drop-down list.</li>
<li>Lastly, click on Run button to run the process.</li>
</ul>
<p>The temporary layer should look like this.</p>
<div class="layout-chunk" data-layout="l-body">
<p><img src="img/images/image46.png" width="230" /></p>
</div>
<p>Clip the temporary layer into the study area. - The study area should be a dissolved polygon. Open the Dissolve window by clicking Vector -&gt; Geoprocessing -&gt; Dissolve. - In the Dissolve window, select study_area.</p>
<div class="layout-chunk" data-layout="l-body">
<p><img src="img/images/image12.png" width="498" /></p>
</div>
<ul>
<li>Run the window.</li>
<li>Save the temporary layer as study_area_dissolved.</li>
<li>Open the Clip Raster by masked extent window by Raster -&gt; Extraction -&gt; Clip Raster by Masked Extent.</li>
<li>Select the temporary layer as in Input layer.</li>
<li>Select study_area_dissolved as the masked layer.</li>
<li>Select EPSG:23845 - DGN95 / Indonesia TM-3 zone 54.1 as the Source CRS and Target CRS.</li>
<li>Run the window.</li>
</ul>
<p>The temporary layer should look like the following</p>
<div class="layout-chunk" data-layout="l-body">
<p><img src="img/images/image47.png" width="196" /></p>
</div>
<p>Save the temporary layer into geopackage as suitability</p>
<h2 id="vectorise-suitable-sites">4.3 Vectorise suitable sites</h2>
<p>Next, we will convert the suitable site identified above from raster into vector through vectorisation. - From the menu bar, select Raster -&gt; Conversion -&gt; Polygonize(Raster to Vector)</p>
<p>The Polygonize (Raster to Vector) dialog window appears. - For Input Layer, select suitability from the drop-down list. - For Name of the field to create, type Sites. - Keep the checkbox in front of Use 8-connectedness uncheck.</p>
<div class="layout-chunk" data-layout="l-body">
<p><img src="img/images/image24.png" width="635" /></p>
</div>
<ul>
<li>When you are ready, click on the Run button. When the computation is completed, a new temporary layer called Vectorized will be added on the Layers panel and display on the view window.</li>
</ul>
<div class="layout-chunk" data-layout="l-body">
<p><img src="img/images/image59.png" width="217" /></p>
</div>
<p>We would only like to save the areas which are suitable (which we previously labelled as ‘1’). - Use the Select by expression tool - Enter the following expression in the expression box - “Sites” = 1 - Save the selected area into geopackage as suitability_vector. Your screen should look similar to the screenshot below.</p>
<div class="layout-chunk" data-layout="l-body">
<p><img src="img/images/image55.png" width="246" /></p>
</div>
<div class="sourceCode" id="cb1"><pre class="sourceCode r distill-force-highlighting-css"><code class="sourceCode r"></code></pre></div>
<!--radix_placeholder_article_footer-->
<!--/radix_placeholder_article_footer-->
</div>

<div class="d-appendix">
</div>


<!--radix_placeholder_site_after_body-->
<!--/radix_placeholder_site_after_body-->
<!--radix_placeholder_appendices-->
<div class="appendix-bottom"></div>
<!--/radix_placeholder_appendices-->
<!--radix_placeholder_navigation_after_body-->
<!--/radix_placeholder_navigation_after_body-->

</body>

</html>
